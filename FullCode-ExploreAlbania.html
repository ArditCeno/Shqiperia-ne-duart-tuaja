<!doctype html>
<html lang="sq">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Explore Albania â€” Qarqet, t & Quiz</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#111b2e;
      --card2:#0f1729;
      --text:#e7eefc;
      --muted:#a9b6d3;
      --brand:#6ae4ff;
      --brand2:#a78bfa;
      --ok:#34d399;
      --bad:#fb7185;
      --line:rgba(255,255,255,.12);
      --shadow:0 14px 30px rgba(0,0,0,.35);
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 700px at 20% 10%, rgba(106,228,255,.16), transparent 55%),
                  radial-gradient(1000px 700px at 80% 20%, rgba(167,139,250,.14), transparent 55%),
                  var(--bg);
      color:var(--text);
      min-height:100vh;
    }
    a{color:inherit}
    .app{
      max-width:1200px;
      margin:0 auto;
      padding:22px 16px 40px;
      display:grid;
      gap:16px;
    }
    header{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      padding:14px 16px;
      border:1px solid var(--line);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(17,27,46,.85), rgba(15,23,41,.75));
      box-shadow: var(--shadow);
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      min-width:260px;
    }
    .logo{
      width:42px;height:28px;border-radius:8px;
      box-shadow: 0 10px 24px rgba(0,0,0,.35);
      flex-shrink: 0;
      object-fit: cover;
      object-position: center;
    }
    h1{font-size:18px;margin:0;line-height:1.1}
    .sub{margin:2px 0 0;color:var(--muted);font-size:12px}
    .hud{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .pill{
      display:flex;
      gap:8px;
      align-items:center;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      font-size:13px;
      color:var(--text);
      box-shadow: 0 10px 18px rgba(0,0,0,.18);
    }
    .pill b{color:var(--brand)}
    .btn{
      cursor:pointer;
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      font-weight:600;
      transition: transform .08s ease, background .2s ease;
      user-select:none;
    }
    .btn:hover{background: rgba(255,255,255,.10)}
    .btn:active{transform: translateY(1px)}
    .grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:16px;
    }
    @media (max-width:980px){ .grid{grid-template-columns:1fr} }

    .card{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(17,27,46,.78), rgba(15,23,41,.70));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .head{
      padding:14px 16px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      border-bottom:1px solid var(--line);
      background: rgba(255,255,255,.03);
    }
    .card .head h2{margin:0;font-size:16px}
    .card .head p{margin:4px 0 0;color:var(--muted);font-size:12px}
    .card .body{padding:16px}

    /* "Harta" â€” grid klikues (zÃ«vendÃ«sohet lehtÃ« me SVG reale) */
    .map{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:10px;
    }
    .region{
      border:1px solid var(--line);
      border-radius:14px;
      padding:12px;
      background: rgba(255,255,255,.04);
      cursor:pointer;
      transition: transform .08s ease, background .2s ease, border-color .2s ease;
      min-height:74px;
      position:relative;
      overflow:hidden;
    }
    .region:hover{
      background: rgba(255,255,255,.08);
      border-color: rgba(106,228,255,.35);
    }
    .region:active{transform: translateY(1px)}
    .region .tag{
      font-size:11px;
      color:var(--muted);
      margin-top:6px;
    }
    .region .name{
      font-weight:800;
      letter-spacing:.2px;
    }
    .region .glow{
      position:absolute; inset:-40px -40px auto auto;
      width:120px; height:120px;
      background: radial-gradient(circle at 30% 30%, rgba(106,228,255,.28), transparent 60%);
      filter: blur(2px);
      pointer-events:none;
      transform: rotate(20deg);
    }
    .region.active{
      border-color: rgba(167,139,250,.55);
      background: rgba(167,139,250,.10);
    }

    /* Paneli i qarkut */
    .kq{
      display:grid;
      gap:12px;
    }
    .kq .hero{
      padding:14px 14px;
      border:1px solid var(--line);
      border-radius:14px;
      background:
        radial-gradient(900px 300px at 15% 30%, rgba(106,228,255,.10), transparent 55%),
        radial-gradient(900px 300px at 85% 50%, rgba(167,139,250,.10), transparent 55%),
        rgba(255,255,255,.03);
    }
    .kq .hero h3{margin:0 0 6px;font-size:18px}
    .kq .hero .meta{
      display:flex; gap:10px; flex-wrap:wrap;
      color:var(--muted); font-size:12px;
    }

    /* Atraksione me pin */
    .section-title{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      margin-top:6px;
    }
    .section-title h4{margin:0;font-size:14px}
    .pins{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
    }
    @media (max-width:980px){ .pins{grid-template-columns:1fr} }
    .pin{
      border:1px solid var(--line);
      border-radius:14px;
      background: rgba(255,255,255,.03);
      padding:12px;
      cursor:pointer;
      transition: background .2s ease, border-color .2s ease, transform .08s ease;
      position:relative;
      overflow:hidden;
    }
    .pin:hover{ background: rgba(255,255,255,.07); border-color: rgba(106,228,255,.35); }
    .pin:active{ transform: translateY(1px); }
    .pin .dot{
      width:12px;height:12px;border-radius:50%;
      background: radial-gradient(circle at 30% 30%, var(--brand), rgba(106,228,255,.25));
      box-shadow: 0 0 0 6px rgba(106,228,255,.10);
      display:inline-block;
      margin-right:8px;
      vertical-align:middle;
    }
    .pin b{display:block;margin-top:4px}
    .pin small{color:var(--muted)}
    .thumb{
      margin-top:10px;
      border-radius:12px;
      border:1px solid var(--line);
      aspect-ratio: 16/10;
      background:
        linear-gradient(120deg, rgba(106,228,255,.20), rgba(167,139,250,.18)),
        url("https://images.unsplash.com/photo-1526772662000-3f88f10405ff?auto=format&fit=crop&w=800&q=60") center/cover no-repeat;
      overflow:hidden;
    }

    /* Restorante */
    .restos{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:10px;
    }
    @media (max-width:980px){ .restos{grid-template-columns:1fr} }
    .rest{
      border:1px solid var(--line);
      border-radius:14px;
      overflow:hidden;
      background: rgba(255,255,255,.03);
    }
    .rest .img{
      height:120px;
      background:
        linear-gradient(120deg, rgba(106,228,255,.18), rgba(167,139,250,.16)),
        url("https://images.unsplash.com/photo-1604908177072-8f2a5ad7889b?auto=format&fit=crop&w=800&q=60") center/cover no-repeat;
      border-bottom:1px solid var(--line);
    }
    .rest .txt{padding:10px 12px}
    .rest .txt b{display:block;margin-bottom:4px}
    .rest .txt p{margin:0;color:var(--muted);font-size:12px;line-height:1.35}

    /* Upload foto pÃ«r gatime */
    .food-upload{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
      margin-top:10px;
      padding-top:10px;
      border-top:1px solid rgba(255,255,255,.10);
    }
    .food-upload input[type="file"]{
      font-size:12px;
      color:var(--muted);
      max-width:100%;
    }
    .food-upload .mini{
      padding:8px 10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      cursor:pointer;
      color:var(--text);
      font-weight:700;
      font-size:12px;
    }
    .food-upload .mini:hover{ background: rgba(255,255,255,.10) }
    .food-upload .hint{ font-size:12px; color:var(--muted) }

    /* Quiz */
    .quiz{
      border:1px solid var(--line);
      border-radius:14px;
      background: rgba(255,255,255,.03);
      padding:12px;
      display:grid;
      gap:10px;
    }
    .qrow{
      border:1px solid var(--line);
      border-radius:12px;
      padding:10px;
      background: rgba(0,0,0,.12);
    }
    .qrow .q{font-weight:700;margin-bottom:8px}
    .opts{display:grid; gap:8px}
    .opt{
      display:flex; gap:8px; align-items:flex-start;
      font-size:13px; color:var(--text);
      padding:8px 10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      cursor:pointer;
      user-select:none;
      transition: background .2s ease, border-color .2s ease;
    }
    .opt:hover{background: rgba(255,255,255,.07); border-color: rgba(255,255,255,.16)}
    .opt input{margin-top:2px}
    .quiz-actions{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:space-between;
    }
    .msg{color:var(--muted); font-size:12px}
    .good{color:var(--ok)}
    .bad{color:var(--bad)}

    /* Modal (Atraksion + 360) */
    dialog{
      width:min(980px, 94vw);
      border:none;
      border-radius:18px;
      padding:0;
      background: rgba(12,18,32,.92);
      color:var(--text);
      box-shadow: 0 30px 70px rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.14);
    }
    dialog::backdrop{
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(3px);
    }
    .modal-head{
      padding:12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      border-bottom:1px solid var(--line);
      background: rgba(255,255,255,.03);
    }
    .modal-head .title{font-weight:900}
    .modal-body{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:12px;
      padding:14px;
    }
    @media (max-width:900px){ .modal-body{grid-template-columns:1fr} }
    .modal-img{
      border-radius:14px;
      border:1px solid var(--line);
      overflow:hidden;
      background:
        linear-gradient(120deg, rgba(106,228,255,.18), rgba(167,139,250,.16)),
        url("https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1200&q=60") center/cover no-repeat;
      aspect-ratio: 16/10;
      cursor:pointer;
      position:relative;
    }
    .modal-img::after{
      content:"Kliko pÃ«r 360Â°";
      position:absolute; left:10px; bottom:10px;
      font-size:12px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.35);
    }
    .modal-info{
      border:1px solid var(--line);
      border-radius:14px;
      background: rgba(255,255,255,.03);
      padding:12px;
    }
    .modal-info h3{margin:0 0 8px}
    .modal-info p{margin:0;color:var(--muted);font-size:12px;line-height:1.5}
    .viewer360{
      display:none;
      margin-top:10px;
      border:1px solid var(--line);
      border-radius:14px;
      overflow:hidden;
      background: rgba(0,0,0,.25);
      aspect-ratio: 16/10;
      position:relative;
    }
    .viewer360 iframe{
      width:100%;
      height:100%;
      border:0;
      display:block;
    }
    .viewer360 .hint{
      position:absolute; top:10px; left:10px;
      font-size:12px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.35);
      pointer-events:none;
    }

    /* Badge wall */
    .badges{
      display:flex; gap:8px; flex-wrap:wrap;
    }
    .badge{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      padding:8px 10px;
      border-radius:999px;
      font-size:12px;
      display:flex; gap:8px; align-items:center;
    }
    .badge .star{
      width:18px;height:18px;border-radius:6px;
      background: conic-gradient(from 180deg, var(--brand), var(--brand2), var(--brand));
    }
    .badge img{
      width:20px;height:20px;border-radius:4px;object-fit:contain;flex-shrink:0;
    }
    .badge.unearned img{filter:grayscale(100%) opacity(.38);}
    .badge.earned{border-color: rgba(106,228,255,.24); box-shadow: 0 8px 18px rgba(106,228,255,.06);}

    /* Upload */
    .upload{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      padding:12px;
      border:1px dashed rgba(255,255,255,.20);
      border-radius:14px;
      background: rgba(255,255,255,.03);
    }
    input[type="file"]{
      color:var(--muted);
      max-width: 100%;
    }
    .tiny{font-size:12px;color:var(--muted);margin:0}

    /* User Profile */
    .profile-card{
      display:flex;
      gap:10px;
      align-items:center;
      padding:8px 12px;
      border:1px solid var(--line);
      border-radius:12px;
      background: rgba(255,255,255,.04);
      cursor:pointer;
      transition: background .2s ease, border-color .2s ease;
    }
    .profile-card:hover{
      background: rgba(255,255,255,.08);
      border-color: rgba(106,228,255,.35);
    }
    .profile-avatar{
      width:32px;
      height:32px;
      border-radius:50%;
      object-fit:cover;
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      color:var(--bg);
      font-size:14px;
      flex-shrink:0;
    }
    .profile-info{
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .profile-info b{
      font-size:12px;
      font-weight:700;
      color:var(--text);
    }
    .profile-info small{
      font-size:10px;
      color:var(--muted);
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="brand">
        <img class="logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Flag_of_Albania.svg/1200px-Flag_of_Albania.svg.png" alt="Albanian Flag" />
        <div>
          <h1> Shqiperia ne duart tuaja</h1>
          <div class="sub">Kliko njÃ« qark â†’ shiko atraksionet, restorantet & bÃ«j quiz pÃ«r badge.</div>
        </div>
      </div>

      <div class="hud">
        <div class="profile-card" id="profileCard" title="Kliko pÃ«r tÃ« redaktuar profilin">
          <div class="profile-avatar" id="profileAvatar">ğŸ‘¤</div>
          <div class="profile-info">
            <b id="profileName">PÃ«rdorues</b>
            <small id="profileStats">0 pikÃ« Â· 0 badge</small>
          </div>
        </div>
        <div class="pill">PikÃ«: <b id="points">0</b></div>
        <div class="pill">Badge: <b id="badgeCount">0</b></div>
        <button class="btn" id="resetBtn" title="Fshi pikÃ«t dhe badge">Reset</button>
      </div>
    </header>

    <div class="grid">
      <section class="card">
        <div class="head">
          <div>
            <h2>Harta (12 Qarqe)</h2>
            <p>Kjo Ã«shtÃ« njÃ« â€œhartÃ«â€ grid (placeholder). Me 12 qarqe te ShqipÃ«risÃ«, secili i dhene ne detaje.</p>
          </div>
          <button class="btn" id="randomBtn">Zgjidh rastÃ«sisht</button>
        </div>
        <div class="body">
          <div class="map" id="map"></div>

          <div style="margin-top:14px" class="card" aria-hidden="false">
            <div class="head">
              <div>
                <h2>Badge-t e fituara</h2>
                <p>Ruhet nÃ« browser (localStorage).</p>
              </div>
            </div>
            <div class="body">
              <div class="badges" id="badges"></div>
              <p class="tiny" style="margin-top:10px">
                Rregull: Badge fitohet kur bÃ«n quiz-in (â‰¥3/5) dhe pastaj bÃ«n upload njÃ« foto nga ai qark.
              </p>
              <div style="margin-top:14px;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Harta_e_rretheve_gjyq%C3%ABsore_t%C3%AB_Shqip%C3%ABris%C3%AB.svg/500px-Harta_e_rretheve_gjyq%C3%ABsore_t%C3%AB_Shqip%C3%ABris%C3%AB.svg.png" alt="Harta Administrative e Shqiperise" style="width:100%; border-radius:12px; border:1px solid rgba(255,255,255,.14);" />
              </div>
            </div>
          </div>

          <div class="card" id="albumCard" style="margin-top:14px">
            <div class="head">
              <div>
                <h2>Albumi Fotove</h2>
                <p>Fotot qÃ« ke shtuar â€” Ã§do foto shfaq emrin e vendit.</p>
              </div>
            </div>
            <div class="body">
              <div class="upload" id="photoUploadArea">
                <select id="photoPlaceSelect" style="min-width:160px">
                  <option value="">Zgjidh qark</option>
                </select>
                <select id="photoAttractionSelect" style="min-width:160px">
                  <option value="">Zgjidh atraksion (opsionale)</option>
                </select>
                <input type="file" id="photoInput" accept="image/*" multiple />
                <button class="btn" id="addPhotoBtn">Shto Foto</button>
              </div>

              <div id="photoGallery" class="pins" style="margin-top:12px"></div>
              <p class="tiny" style="margin-top:10px">Fotot ruhen lokalisht nÃ« browser (localStorage). Mund t'i fshish Ã§doherÃ«.</p>
            </div>
          </div>
        </div>
      </section>

      <aside class="card">
        <div class="head">
          <div>
            <h2 id="panelTitle">Zgjidh njÃ« qark</h2>
            <p id="panelSubtitle">Kliko nÃ« â€œhartÃ«â€ pÃ«r tÃ« hapur faqen e qarkut.</p>
          </div>
          <span class="pill" id="activeChip" style="display:none">Aktiv: <b id="activeName"></b></span>
        </div>

        <div class="body">
          <div class="kq" id="panel">
            <div class="hero">
              <h3>MirÃ« se erdhe ğŸ‘‹</h3>
              <div class="meta">
                <span>â€¢ 12 qarqe</span>
                <span>â€¢ 3 atraksione/qark</span>
                <span>â€¢ Quiz 5 pyetje</span>
              </div>
              <p class="tiny" style="margin-top:10px">
                Pasi tÃ« zgjedhÃ«sh njÃ« qark, do shfaqen pin-at e atraksioneve. Kliko pin â†’ shfaqet imazhi. Kliko imazhin â†’ 360Â°.
              </p>
            </div>
          </div>
        </div>
      </aside>
    </div>

    <dialog id="attractionModal">
      <div class="modal-head">
        <div class="title" id="mTitle">Atraksioni</div>
        <button class="btn" id="mClose">Mbyll</button>
      </div>
      <div class="modal-body">
        <div>
          <div class="modal-img" id="mImg" title="Kliko pÃ«r 360Â°"></div>
          <div class="viewer360" id="viewer360">
            <div class="hint">360Â° (placeholder panoramÃ«)</div>
            <iframe id="panoFrame" allow="fullscreen"></iframe>
          </div>
        </div>
        <div class="modal-info">
          <h3 id="mInfoTitle">Info</h3>
          <p id="mInfoText"></p>
          <p class="tiny" style="margin-top:10px">
            ShÃ«nim: KÃ«tu pÃ«rdorim njÃ« panoramÃ« shembull. Mund tÃ« vendosÃ«sh panoramat e tua 360Â° (equirectangular) pÃ«r Ã§do atraksion.
          </p>
        </div>
      </div>
    </dialog>

    <dialog id="profileModal">
      <div class="modal-head">
        <div class="title">Profili im</div>
        <button class="btn" id="pClose">Mbyll</button>
      </div>
      <div class="modal-body" style="grid-template-columns:1fr;">
        <div style="display:flex; flex-direction:column; gap:12px;">
          <div>
            <label style="font-size:12px;color:var(--muted);display:block;margin-bottom:6px;">Avatar (emoji ose URL fotografie)</label>
            <input type="text" id="profileAvatarInput" placeholder="ğŸ˜Š ose https://..." style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.04);color:var(--text);font-size:13px;" />
          </div>
          <div>
            <label style="font-size:12px;color:var(--muted);display:block;margin-bottom:6px;">Emri</label>
            <input type="text" id="profileNameInput" placeholder="Emri yt" style="width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.04);color:var(--text);font-size:13px;" />
          </div>
          <button class="btn" id="profileSaveBtn" style="width:100%;margin-top:8px;background:rgba(106,228,255,.15);border-color:rgba(106,228,255,.35);">Ruaj</button>
        </div>
      </div>
    </dialog>

  </div>

  <script>
   
    const DATA = [
      {
        id:"berat",
        name:"Berat",
        tagline:"Qyteti i njÃ« mbi njÃ« dritareve",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Stema_e_Qarkut_Berat.svg/960px-Stema_e_Qarkut_Berat.svg.png",
        info:"Berati (i njohur edhe si qyteti i njÃ« mbi njÃ« dritareve) Ã«shtÃ« njÃ« qytet nÃ« jug tÃ« ShqipÃ«risÃ« dhe njÃ«kohÃ«sisht qendra administrative e Qarkut tÃ« Beratit. Sipas regjistrimit tÃ« popullsisÃ« tÃ« vitit 2011, qyteti ka njÃ« popullsi prej 60,031 banorÃ«sh, duke e renditur tÃ« nÃ«ntin pÃ«r nga madhÃ«sia e popullsisÃ« nÃ« RepublikÃ«n e ShqipÃ«risÃ«. Gjendet rreth 70 km nÃ« vijÃ« ajrore nÃ« jug tÃ« TiranÃ«s dhe pÃ«rshkohet nga lumi Osum. Qyteti Ã«shtÃ« i rrethuar nga kodra dhe male, ndÃ«r tÃ« cilat spikat mali i Tomorrit, njÃ« masiv malor i rÃ«ndÃ«sishÃ«m dhe njÃ«kohÃ«sisht Park KombÃ«tar, i njohur pÃ«r vlerat natyrore dhe kulturore.",
        attractions:[
          { name:"Kalaja e Beratit", desc:"Kompleks historik me pamje panoramike dhe lagje brenda mureve.", img:"https://upload.wikimedia.org/wikipedia/commons/7/7a/Kalaja_e_beratit2.jpg" },
          { name:"Mangalem & Gorica", desc:"Lagje karakteristike pÃ«r arkitekturÃ«n osmane dhe urÃ«n mbi Osum.", img:"https://www.kultplus.com/wp-content/uploads/2020/07/BeratAlbaniaWhiteCity-4-728x430.jpg" },
          { name:"Kanionet e Osumit", desc:"NatyrÃ« spektakolare, sidomos nÃ« pranverÃ«; rafting dhe ecje.", img:"https://ata.gov.al/wp-content/uploads/2020/08/117818619_2476011966007237_748916705847241224_n.jpg" },
          { name:"Ura e Gorices", desc:"Ura e GoricÃ«s Ã«shtÃ« njÃ« nga monumentet e kulturÃ«s dhe tÃ« arkitekturÃ«s sÃ« Beratit dhe njÃ«kohÃ«sisht njÃ« nga simbolet e tij", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Ura_e_Beratit_%28Goric%C3%ABs%29.jpg/500px-Ura_e_Beratit_%28Goric%C3%ABs%29.jpg" }

        ],
        restos:[
          { name:"Biftek Vienez", blurb:"Mish i shijshÃ«m dhe i shtypur hollÃ«, i mbushur me arra dhe djathÃ«, i mbÃ«shtjellÃ«, i brumosur dhe i skuqur derisa tÃ« marrÃ« ngjyrÃ« tÃ« artÃ« krokante.", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ6o3CeJiKJ3_5RmrTCSK5KNUyts7TnpP5t6Q&s" },
          { name:"Romstek", blurb:"Mish i shijshÃ«m dhe i shtypur hollÃ«, i mbushur me arra dhe djathÃ«, i mbÃ«shtjellÃ«, i brumosur dhe i skuqur derisa tÃ« marrÃ« ngjyrÃ« tÃ« artÃ« krokante.", img:"https://cdnimpuls.com/alfapress.al/media3/-640-0-img-1630-777.jpeg" },
          { name:"Rosnica", blurb:"Kjo Ã«shtÃ« njÃ« pjatÃ« fantastike e kombinimit tÃ« roshnicave, kokrrizave tÃ« formuara nga mielli dhe vezÃ«t dhe mishit tÃ« freskÃ«t tÃ« pulÃ«s apo zogut tÃ« fshatit", img:"https://www.balkanweb.com/wp-content/uploads/2018/10/pule-me-rosnica.jpg" }
        ],
        quiz:[
          { q:"Berati Ã«shtÃ« i njohur siâ€¦", a:["Qyteti i njÃ« mbi njÃ« dritareve","Qyteti i 1000 rrugÃ«ve","Qyteti i liqeneve"], correct:0 },
          { q:"Cili lumÃ« kalon pranÃ« Beratit?", a:["Osum","Drin","Buna"], correct:0 },
          { q:"Kalaja e Beratit Ã«shtÃ«â€¦", a:["Kompleks historik mbi kodÃ«r","Park detar","Ishull nÃ« liqen"], correct:0 },
          { q:"Lagjet e vjetra tipike janÃ«â€¦", a:["Mangalem & Gorica","Zogu i Zi & Komuna","LaprakÃ« & Fresk"], correct:0 },
          { q:"Kanionet e Osumit janÃ« tÃ« njohura pÃ«râ€¦", a:["Peizazh dhe aventura natyrore","ShkretÃ«tirÃ« rÃ«re","Ski gjithÃ« vitin"], correct:0 }
        ]
      },
      {
        id:"diber",
        name:"DibÃ«r",
        tagline:"NatyrÃ« malore & traditÃ«",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/ALB_Qarku_i_Dibr%C3%ABs_COA.svg/960px-ALB_Qarku_i_Dibr%C3%ABs_COA.svg.png",
        info:"DibÃ«r Ã«shtÃ« njÃ« qytet qÃ« shtrihet nÃ« zonÃ«n kufitare mes MaqedonisÃ« Verioe dhe Shqiperise jashtÃ« rrugÃ«s nga Struga pÃ«r nÃ« Gostivar. Ã‹shtÃ« poashtu komunÃ« apo bashki Komuna e DibrÃ«s. Dibra ka njÃ« shumicÃ« etnike shqiptare prej 74% dhe Ã«shtÃ« qyteti i vetÃ«m i MaqedonisÃ« sÃ« Veriut nÃ« tÃ« cilÃ«n maqedonasit etnikÃ« nuk renditen nÃ« vendin e parÃ« apo tÃ« dytÃ« demografikisht. Gjuha zyrtare Ã«shtÃ« shqipja. Dibra nÃ« planin kombÃ«tar shqiptar Ã«shtÃ« qytet i rÃ«ndÃ«sishÃ«m pÃ«r Kongresin e DibrÃ«s, i mbajtur mÃ« 1909, i cili deklaroi qÃ« gjuha shqipe mund tÃ« mÃ«sohej brenda PerandorisÃ« Osmane.",
        attractions:[
          { name:"Banjat Termale (Peshkopi)", desc:"Relaks nÃ« ujÃ«ra termale dhe traditÃ« lokale.", img:"https://www.iett.al/wp-content/uploads/2020/12/llixhat_peshkopi_1.jpg" },
          { name:"Korabi", desc:"Mali mÃ« i lartÃ« nÃ« ShqipÃ«ri (2,764 m).Perfekt pÃ«r alpinizÃ«m, hiking dhe ecoturizÃ«m", img:"https://upload.wikimedia.org/wikipedia/commons/7/78/Velky_Korab_2011.jpg" },
          { name:"Peizazhet e LurÃ«s", desc:"NatyrÃ« malore e qetÃ«, ideale pÃ«r foto dhe piknik.", img:"https://probizz.al/wp-content/uploads/2021/09/421102.jpg" }
        ],
        restos:[
          { name:"Mish nÃ« saÃ§", blurb:"Gatim i ngadalshÃ«m, aromÃ« druri dhe shije e plotÃ«.", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQJUEB7hksKa0AV9l1Js59-XGS5SvcXwSb8og&s" },
          { name:"Flia", blurb:" Flia Ã«shtÃ« njÃ« ushqim tradicional shqiptar.Flija pasi tÃ« gatuhet preferohet tÃ« sherbehet me gjalpe tÃ« shkrire por ka edhe njerez qÃ« preferojne t'ja hedhi gjalpin gjate gatimit nÃ« saÃ§.", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a0/Traditional_flia_charcoal_cooking.jpg/500px-Traditional_flia_charcoal_cooking.jpg" },
          { name:"Byrek shtÃ«pie", blurb:"Me barishte ose djathÃ«, i pjekur tradicionalisht.", img:"https://agroweb.org/wp-content/uploads/2018/09/byrek-mishi.jpg" }
        ],
  
        quiz:[
          { q:"Dibra njihet pÃ«râ€¦", a:["NatyrÃ« malore dhe burime termale","Vreshta bregdetare","Ishuj turistikÃ«"], correct:0 },
          { q:"NjÃ« zonÃ« e njohur malore lidhet meâ€¦", a:["Korabin","Karaburunin","Sazan"], correct:0 },
          { q:"NjÃ« gatim tradicional i zonÃ«s Ã«shtÃ«â€¦", a:["Flia","Sushi","Paella"], correct:0 },
          { q:"Qyteti kryesor i DibrÃ«s Ã«shtÃ«â€¦", a:["Peshkopia","Saranda","ShÃ«ngjini"], correct:0 },
          { q:"Turizmi tipik nÃ« DibÃ«r Ã«shtÃ«â€¦", a:["Ecje dhe natyrÃ«","Safari nÃ« shkretÃ«tirÃ«","Lundrim oqeanik"], correct:0 }
        ]
      },
      {
        id:"durres",
        name:"DurrÃ«s",
        tagline:"Bregdet & histori antike",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f8/Stema_e_Qarkut_Durr%C3%ABs.svg/960px-Stema_e_Qarkut_Durr%C3%ABs.svg.png",
        info:"Qarku i DurrÃ«sit Ã«shtÃ« njÃ« nga 12 qarqet nÃ« ShqipÃ«ri dhe ka njÃ« sipÃ«rfaqe prej 766 kmÂ². Qarku i DurrÃ«sit i pÃ«rfshin rrethin e DurrÃ«sit dhe rrethin e KrujÃ«s. Qendra e Qarkut tÃ« DurrÃ«sit ndodhet nÃ« qytetin e DurrÃ«sit. ISO 3166-2-Code Ã«shtÃ« AL-02. Qarku i DurrÃ«sit kufizohet nÃ« veri me Qarkun e LezhÃ«s, nÃ« perÃ«ndim ka dalje nÃ« detin Adriatik, ndÃ«rsa nÃ« Jug kufizohet me Qarkun e TiranÃ«s. Ky rajoni Ã«shtÃ« njÃ« prej dy qarqeve kryesore pÃ«r ekonomin tÃ« qyteteve tÃ« TiranÃ«s dhe DurrÃ«sit. Qarku i DurrÃ«sit ka njÃ« popullsi prej 284,823 ( 2017 )banorÃ«.",
        attractions:[
          { name:"Amfiteatri i DurrÃ«sit", desc:"Amfiteatri i DurrÃ«sit, mÃ« i madhi dhe mÃ« i rÃ«ndÃ«sishmi, jo vetÃ«m nÃ« ShqipÃ«ri, por edhe nÃ« Ballkan, Ã«shtÃ« ndÃ«rtuar nÃ« fillim tÃ« shek tÃ« II tÃ« e.s gjatÃ« sundimit tÃ« perandorit Trajan.", img:"https://upload.wikimedia.org/wikipedia/sq/3/30/Amfiteatri_i_Durr%C3%ABsit.JPG" },
          { name:"Muzeu e SkÃ«nderbeut nÃ« KrujÃ«", desc:"Muzeu KombÃ«tar Gjergj Kastrioti SkÃ«nderbeu i njohur edhe si Muzeu i SkÃ«nderbeut dhe Muzeu i KrujÃ«s, ndodhet nÃ« KrujÃ« dhe Ã«shtÃ« njÃ« nga mÃ« tÃ« vizituarit nÃ« ShqipÃ«ri.", img:"https://upload.wikimedia.org/wikipedia/commons/f/f7/Kruja.jpg" },
          { name:"Kepi i Rodonit", desc:"Kepi i Rodonit Ã«shtÃ« njÃ« rrip toke nÃ« formÃ« gadishulli qÃ« futet nÃ« brendÃ«si tÃ« detit Adriatik. Ai shtrihet nÃ« formÃ« trekÃ«ndÃ«shi midis gjirit tÃ« Rodonit nÃ« veri dhe atij tÃ« Lalzit nÃ« jug. NÃ« veri tÃ« tij derdhet lumi i Ishmit njÃ« nga lumenjtÃ« e vegjÃ«l tÃ« ShqipÃ«risÃ«. Kepi i Rodonit Ã«shtÃ« kepi mÃ« i madh nÃ« vendin tonÃ«, i cili mbyll nga ana e jugut gjirin e Drinit.", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/Rodoni_Castle_2016-07-15_01.jpg/1280px-Rodoni_Castle_2016-07-15_01.jpg" }
        ],
         restos:[
          { name:"Midhe me salcÃ« ose zgare(Durres)", blurb:"Zgjedhje deti, tÃ« pÃ«rgatitura me midhe tÃ« freskÃ«ta deti, tÃ« gatuara thjesht me erÃ«za ose me salcÃ« aromatike pÃ«r tÃ« ruajtur shijen natyrale tÃ« detit.", img:"https://unegatuaj.com/wp-content/uploads/2012/07/Midhje-me-vere-te-bardhe-975x1300.jpg" },
          {  name:"Qengj nÃ« furrÃ« me arra(Kruje)", blurb:"Miks mishi i qengjit piqet ngadalÃ« nÃ« furrÃ« dhe shoqÃ«rohet me arra tÃ« grira, duke i dhÃ«nÃ« shije tÃ« pasur dhe aromÃ« karakteristike.", img:"https://agroweb.org/wp-content/uploads/2018/12/Qengji1.jpg" },
          {  name:"Speca tÃ« mbushur(Shijak)", blurb:"Klasik tÃ« pÃ«rgatitur me speca tÃ« mbushur me mish tÃ« grirÃ«, oriz dhe erÃ«za, tÃ« pjekur ose tÃ« zier nÃ« salcÃ« pÃ«r njÃ« shije tÃ« plotÃ« dhe shtÃ«pie.", img:"https://agroweb.org/wp-content/uploads/2018/06/speca-te-mbushur.jpg" }
        ],

        quiz:[
          { q:"DurrÃ«si njihet siâ€¦", a:["Qytet port dhe bregdetar","Qytet alpin","Qytet i shkretÃ«tirÃ«s"], correct:0 },
          { q:"Atraksioni antik kryesor Ã«shtÃ«â€¦", a:["Amfiteatri","Kulla e sahatit","UjÃ«vara"], correct:0 },
          { q:"DurrÃ«si lidhet fort meâ€¦", a:["Detin","Liqenet akullnajore","Shpellat e thella"], correct:0 },
          { q:"NjÃ« ushqim tipik nÃ« DurrÃ«s Ã«shtÃ«â€¦", a:["Peshk i freskÃ«t","Tacos","Ramen"], correct:0 },
          { q:"Kepi i Rodonit Ã«shtÃ«â€¦", a:["ZonÃ« bregdetare afÃ«r DurrÃ«sit","Mali mÃ« i lartÃ«","Park ski"], correct:0 }
        ]
      },

      {
        id:"elbasan",
        name:"Elbasan",
        tagline:"QendÃ«r historike & traditÃ«",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Stema_e_Qarkut_Elbasan.svg/960px-Stema_e_Qarkut_Elbasan.svg.png",
        info:"Qarku i Elbasanit Ã«shtÃ« njÃ« nga 12 qarqet nÃ« ShqipÃ«ri, ka njÃ« sipÃ«rfaqje prej 3,278 kmÂ² dhe ka njÃ« popullsi prej 283,822 ( 2017) banorÃ«. Qendra e Qarkut tÃ« Elbasanit ndodhet nÃ« qytetin e Elbasanit. ISO 3166-2-Code Ã«shtÃ« AL-03. Rajoni lindore dhe veriore Ã«shtÃ« e dominuar nga luginÃ«n e Shkumbinit, pjesa nÃ« jug Ã«shtÃ« e dominuar nga Devolli dhe Semanit.",
        attractions:[
          { name:"Kalaja e Elbasanit", desc:"Kalaja e Elbasanit u ndÃ«rtua nÃ« shek. XV nga sulltan Mehmeti II mbi rrÃ«noja romake. Ajo ka qenÃ« qendÃ«r e rÃ«ndÃ«sishme ushtarake dhe sot pÃ«rbÃ«n zemrÃ«n historike tÃ« qytetit.", img:"https://upload.wikimedia.org/wikipedia/commons/a/a6/Elbasan_Castle%2C_Elbasan%2C_Albania_October_2022.jpg" },
          { name:"Shkumbini", desc:"Shkumbin Ã«shtÃ« njÃ« nga lumenjtÃ« kryesorÃ« tÃ« ShqipÃ«risÃ«. Ai pÃ«rshkon vendin nga lindja nÃ« perÃ«ndim dhe historikisht ka shÃ«rbyer si ndarje natyrore mes veriut dhe jugut.", img:"https://albanopedia.com/wp-content/uploads/2022/10/Shkumbin-river-valley-featured-image-photo-by-Agon-Nimani.jpg" },
          { name:"Liqenet e Belshit", desc:"Liqenet e Belshit janÃ« njÃ« grup liqenesh karstike nÃ« zonÃ«n e DumresÃ«. TÃ« njohura pÃ«r bukurinÃ« natyrore dhe qetÃ«sinÃ«, ato janÃ« ideale pÃ«r shÃ«titje dhe turizÃ«m natyror.", img:"https://www.balkanweb.com/wp-content/uploads/2018/08/Dumre-Belsh-ok-3.jpeg" }
        ],
        restos:[
          { name:"Ballokume", blurb:"Ã‹mbÃ«lsira mÃ« karakteristike e zonÃ«s, pÃ«rgatitet me miell misri, gjalpÃ«, sheqer dhe vezÃ«. Tradicionalisht gatuhet pÃ«r DitÃ«n e VerÃ«s.", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/37/Ballokume_dhe_lule.jpg/250px-Ballokume_dhe_lule.jpg" },
          { name:"Kabuni", blurb:"Ã‹mbÃ«lsirÃ« tradicionale me oriz, mish (zakonisht qengji), sheqer dhe kanellÃ«, qÃ« shÃ«rbehet nÃ« festa dhe raste tÃ« veÃ§anta.", img:"https://i0.wp.com/cookingfromheart.com/wp-content/uploads/2016/02/ch_dsc_0907_1.jpg?resize=720%2C511&ssl=1" },
          { name:"TavÃ« me mish", blurb:"Gatuhet zakonisht me mish qengji ose viÃ§i, qepÃ« dhe erÃ«za, nÃ« tavÃ« balte. Ã‹shtÃ« njÃ« nga gatimet mÃ« tÃ« zakonshme familjare.", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7b/Elbasan_tav%C3%AB_me_mish_qengji.jpg/2560px-Elbasan_tav%C3%AB_me_mish_qengji.jpg" }
        ],
        quiz:[
          { q:"Elbasani ka njÃ«â€¦", a:["Kala historike","Port detar","Ishull"], correct:0 },
          { q:"Ã‹mbÃ«lsira tipike Ã«shtÃ«â€¦", a:["Ballokume","Baklava turke vetÃ«m","Cheesecake"], correct:0 },
          { q:"Elbasani ndodhetâ€¦", a:["NÃ« qendÃ«r tÃ« ShqipÃ«risÃ«","NÃ« jug ekstrem","NÃ« njÃ« ishull"], correct:0 },
          { q:"NjÃ« lumÃ« i rÃ«ndÃ«sishÃ«m nÃ« zonÃ« Ã«shtÃ«â€¦", a:["Shkumbin","BunÃ«","ValbonÃ«"], correct:0 },
          { q:"Park nÃ« qytet Ã«shtÃ«â€¦", a:["Rinia","Butrinti","Llogara"], correct:0 }
        ]
      },

      {
        id:"fier",
        name:"Fier",
        tagline:"Antikitet & fushÃ« e gjerÃ«",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Stema_e_Qarkut_Fier.svg/960px-Stema_e_Qarkut_Fier.svg.png",
        info:"Qarku i Fierit Ã«shtÃ« njÃ«ri nga 12 qarqet nÃ« ShqipÃ«ri me njÃ« sipÃ«rfaqje prej 1.887 kmÂ². Qarku i Fierit i pÃ«rfshin rrethin e Fierit, rrethin e LushnjÃ«s dhe rrethin e MallakastrÃ«s. Qendra e Qarkut tÃ« Fierit ndodhet nÃ« qytetin e Fierit. ISO 3166-2-Code Ã«shtÃ« AL-04. Qarku i Fierit kufizohet nÃ« veri me Qarkun e DurrÃ«sit, nÃ« veriperÃ«ndim me detin Adriatik, nÃ« Verilindje me qarkun e Elbasanit, nÃ« lindje me qarkun e Beratit, nÃ« juglindje me qarkun e GjirokastrÃ«s dhe nÃ« jug me qarkun e VlorÃ«s. Qarku i Fierit ka njÃ« popullsi prej 302.507 ( 2017) banorÃ«. NÃ« qarkun e Fierit rrjedh lumi Seman. NÃ« veri tÃ« qarkut lumi Shkumbin dhe nÃ« jug lumi Vjosa. Qarku i Fierit Ã«shtÃ« dominuar nga zona e MyzeqesÃ« nÃ« tÃ« ndodhet lokaliteti i lashtÃ« historik qyteti ilir Apollonia.",
        attractions:[
          { name:"Parku Arkeologjik i ApolonisÃ«", desc:"Qytet antik i themeluar rreth shek. VI p.e.s. nga kolonÃ« grekÃ« (Korinth & Korkyra). U bÃ« njÃ« qendÃ«r e madhe ekonomike, kulturore dhe arsimore nÃ« Iliri dhe mÃ« pas nÃ« PerandorinÃ« Romake", img:"https://upload.wikimedia.org/wikipedia/commons/d/d3/Apollonia_Ruins_near_Fieri_%28Albania%29.jpg" },
          { name:"Semani", desc:"Ai formohet nga bashkimi i Devollit dhe Osumit, rrjedh nÃ«pÃ«r Myzeqe dhe derdhet nÃ« Detin Adriatik. Semani ka rÃ«ndÃ«si pÃ«r bujqÃ«sinÃ«, pasi ujit fusha pjellore, por njihet edhe pÃ«r prurjet e mÃ«dha tÃ« sedimenteve qÃ« ndryshojnÃ« shpesh shtratin e tij.", img:"https://images.openai.com/thumbnails/url/krqz73icu5meUVJSUGylr5-al1xUWVCSmqJbkpRnoJdeXJJYkpmsl5yfq5-Zm5ieWmxfaAuUsXL0S7F0Tw7xSw438A9xNk4KCirOLDEocgtx9bXIDykpqHTNKE40KLcscHIJDk9KzYkvVyu2NTQAAAq-JU0" },
          { name:"Manastiri i ArdenicÃ«s", desc:"I ndÃ«rtuar nÃ« shek. XIII (1282), manastiri i kushtohet ShÃ«n MarisÃ« dhe ndodhet pranÃ« LushnjÃ«s, mbi njÃ« kodÃ«r me pamje nga fusha e MyzeqesÃ«. Ai njihet pÃ«r arkitekturÃ«n bizantine, afresket e bukura dhe ikonostasin e gdhendur.", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/Ardenica_Monastery_%28by_Pudelek%29.JPG/1200px-Ardenica_Monastery_%28by_Pudelek%29.JPG" }
        ],
        restos:[
          { name:"TavÃ« kosi", blurb:"NjÃ« nga gatimet mÃ« tÃ« njohura, pÃ«rgatitet me mish qengji, kos, vezÃ« dhe oriz. ShumÃ« e pÃ«rhapur nÃ« Fier dhe zonat pÃ«rreth", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQOijX3BkHZMnUxRfFjyGhGfXf-B6bhUYTqKg&s" },
          { name:"Byrek me mish", blurb:"Byrek tradicional me petÃ« shtÃ«pie, i mbushur me mish tÃ« grirÃ« dhe qepÃ«. Gatuhet shpesh pÃ«r festa familjare.", img:"https://agroweb.org/wp-content/uploads/2018/09/byrek-mishi.jpg" },
          { name:"Qengj nÃ« hell", blurb:"Gatim tipik pÃ«r dasmÃ« dhe festa, i njohur pÃ«r shijen dhe mÃ«nyrÃ«n tradicionale tÃ« pÃ«rgatitjes.", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu_xHt7muyJn0yEKZ9m2Rw_p5Jw0Ocohtw1w&s" }
        ],
        quiz:[
          { q:"Apolonia Ã«shtÃ«â€¦", a:["Park arkeologjik i rÃ«ndÃ«sishÃ«m","Park ujor","ShpellÃ«"], correct:0 },
          { q:"Fieri lidhet meâ€¦", a:["TrashÃ«gimi antike dhe fushÃ«","TurizÃ«m ski","Ishuj"], correct:0 },
          { q:"NjÃ« monument afÃ«r Ã«shtÃ«â€¦", a:["Ardenica","Rozafa","Ali Pasha"], correct:0 },
          { q:"Apolonia i pÃ«rket periudhÃ«sâ€¦", a:["Antike","Moderne vetÃ«m","Industriale"], correct:0 },
          { q:"Gatim tradicional i zakonshÃ«m Ã«shtÃ«â€¦", a:["TavÃ« dheu","Sashimi","Burrito"], correct:0 }
        ]
      },

      {
        id:"gjirokaster",
        name:"GjirokastÃ«r",
        tagline:"Qytet muze & gur",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Stema_e_Qarkut_Gjirokast%C3%ABr.svg/500px-Stema_e_Qarkut_Gjirokast%C3%ABr.svg.png",
        info:"Qarku i GjirokastrÃ«s Ã«shtÃ« njÃ« nga 12 qarqet nÃ« ShqipÃ«ri dhe ka njÃ« sipÃ«rfaqje prej 2.884 kmÂ². Qarku i GjirokastrÃ«si pÃ«rfshin rrethin e GjirokastrÃ«s, rrethin e PÃ«rmetit dhe rrethin e TepelenÃ«s. Qendra e Qarkut te GJirokastres ndodhet nÃ« qytetin e GjirokastrÃ«s. ISO 3166-2-Code Ã«shtÃ« AL-05. Qarku i GjirokastrÃ«s kufizohet nÃ« veri me Qarkun e Beratit, nÃ« veriperÃ«ndim me Qarkun e Fierit, nÃ« jug deri nÃ« perÃ«ndim me Qarkun e VlorÃ«s, nÃ« juglindje me GreqinÃ« dhe nÃ« lindje me Qarkun e KorÃ§Ã«s. NÃ« Qarkun e GjirokastrÃ«s rrjedh lumi Vjosa dhe nÃ« jug lumi Drino.",
        attractions:[
          { name:"Kalaja e GjirokastrÃ«s", desc:"Kalaja e GjirokastrÃ«s Ã«shtÃ« simboli i qytetit. NjÃ« nga kÃ«shtjellat mÃ« tÃ« mÃ«dha nÃ« ShqipÃ«ri, me muze dhe pamje mbresÃ«lÃ«nÃ«se mbi qytetin.", img:"https://media.tacdn.com/media/attractions-splice-spp-674x446/13/d6/8e/e2.jpg" },
          { name:"Qyteti i VjetÃ«r i GjirokastrÃ«s", desc:"Gjirokastra njihet pÃ«r shtÃ«pitÃ« karakteristike prej guri dhe rrugicat e pjerrÃ«ta. Ã‹shtÃ« pjesÃ« e TrashÃ«gimisÃ« BotÃ«rore tÃ« UNESCO-s.", img:"https://images.squarespace-cdn.com/content/v1/57b9b98a29687f1ef5c622df/1477910131983-1LQG3BHN9XGY9C1Z1T4X/Gjirokaster" },
          { name:"Syri i KaltÃ«r", desc:"Syri i KaltÃ«r Ã«shtÃ« njÃ« burim natyror me ujÃ« kristal tÃ« kaltÃ«r, shumÃ« i vizituar nga turistÃ«t.", img:"https://ionian-cruises.com/wp-content/uploads/2018/04/Albania-Blue-Eye.jpg" }
        ],
        restos:[
          { name:"Qifqi", blurb:"Gatimi mÃ« tipik i GjirokastrÃ«s. PÃ«rgatitet me oriz, vezÃ« dhe erÃ«za, piqet nÃ« enÃ« speciale dhe shÃ«rbehet zakonisht si antipastÃ«.", img:"https://www.tiranatimes.com/wp-content/uploads/2017/07/qifqi.jpg" },
          { name:"Pasha qofte", blurb:"Qofte tÃ« buta me mish tÃ« grirÃ«, vezÃ« dhe miell, tÃ« gatuara nÃ« lÃ«ng me limon. NjÃ« pjatÃ« shumÃ« e pÃ«rhapur nÃ« zonÃ«.", img:"https://i0.wp.com/www.mimisrecipes.com/wp-content/uploads/2020/05/Meatball-Soup-Pasha-Qofte-Featured.jpg?ssl=1&w=760" },
          { name:"Oshaf", blurb:"Ã‹mbÃ«lsirÃ« tradicionale me fiq tÃ« thatÃ« dhe qumÃ«sht, tipike pÃ«r jugun e ShqipÃ«risÃ«, sidomos pÃ«r festa.", img:"https://images.squarespace-cdn.com/content/v1/65f810154f5c8c44e6ad6104/1713528004063-WT9Y7R1M7E17O86USK2J/24.jpg?format=2500w" }
        ],
        quiz:[
          { q:"Gjirokastra njihet siâ€¦", a:["Qytet i gurit","Qytet i akullit","Qytet nÃ« ishull"], correct:0 },
          { q:"Atraksion kryesor Ã«shtÃ«â€¦", a:["Kalaja","Piramida","Porti"], correct:0 },
          { q:"Pazari i vjetÃ«r Ã«shtÃ«â€¦", a:["ZonÃ« historike me dyqane","Liqen artificial","Park ski"], correct:0 },
          { q:"Syri i KaltÃ«r Ã«shtÃ«â€¦", a:["Burim natyror","Vullkan","KÃ«shtjellÃ«"], correct:0 },
          { q:"Gatim tipik i jugut Ã«shtÃ«â€¦", a:["Qifqi","Hot dog","Tempura"], correct:0 }
        ]
      },

      {
        id:"korce",
        name:"KorÃ§Ã«",
        tagline:"KulturÃ«, serenata & natyrÃ«",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Stema_e_Qarkut_Kor%C3%A7%C3%AB.svg/500px-Stema_e_Qarkut_Kor%C3%A7%C3%AB.svg.png",
        info:"Qarku i KorÃ§Ã«s Ã«shtÃ« njÃ« nga 12 qarqet nÃ« ShqipÃ«ri dhe ka njÃ« sipÃ«rfaqje prej 3.711 kmÂ². Qarku i KorÃ§Ã«s i pÃ«rfshin rrethin e Devollit, rrethin e KolonjÃ«s, rrethin e KorÃ§Ã«s dhe rrethin e Pogradecit. Qendra e Qarkut tÃ« KorÃ§Ã«s ndodhet nÃ« qytetin e KorÃ§Ã«s. ISO 3166-2-Code Ã«shtÃ« AL-06. Qarku i KorÃ§Ã«s kufizohet nÃ« verilindje dhe nÃ« lindje me MaqedoninÃ«, nÃ« jug me GreqinÃ«, nÃ« jugperÃ«ndim me Qarkun e GjirokastrÃ«s, nÃ« perÃ«ndim me Qarkun e Beratit dhe nÃ« veriperÃ«ndim me Qarkun e Elbasanit. Qarku i KorÃ§Ã«s ka njÃ« popullsi prej 258.100[1] banorÃ«.",
        attractions:[
          { name:"Pazari i KorÃ§Ã«s", desc:"Pazari i VjetÃ«r i KorÃ§Ã«s Ã«shtÃ« zemra kulturore e qytetit, me rrugÃ« kalldrÃ«mi, dyqane artizanale dhe kafene tradicionale.", img:"https://albaniatravelguide.net/wp-content/uploads/2022/10/Korca-bazar-AB.jpg" },
          { name:"Voskopoja", desc:"Voskopoja Ã«shtÃ« e famshme pÃ«r kishat me afreske dhe historinÃ« e saj si qendÃ«r e rÃ«ndÃ«sishme kulturore nÃ« shek. XVIII.", img:"https://7mostendangered.eu/wp-content/uploads/2018/08/7ME-2018-AL-VOSKOPOJA-internal.jpg" },
          { name:"Muzeu KombÃ«tar i Arsimit", desc:"Muzeu KombÃ«tar i Arsimit ndodhet nÃ« ndÃ«rtesÃ«n e shkollÃ«s sÃ« parÃ« shqipe dhe Ã«shtÃ« shumÃ« i rÃ«ndÃ«sishÃ«m pÃ«r historinÃ« e gjuhÃ«s dhe arsimit shqiptar.", img:"https://upload.wikimedia.org/wikipedia/commons/6/63/Kor%C3%A7%C3%AB_04.jpg" }
        ],
        restos:[
          { name:"Lakror", blurb:"Gatimi mÃ« karakteristik i zonÃ«s. PÃ«rgatitet me petÃ« tÃ« holla, tÃ« mbushura me qepÃ«, domate, spinaq ose mish, dhe piqet tradicionalisht nÃ« saÃ§", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTjoPvAyF5wef78gKjBacGyi4M91It1WgUmtA&s" },
          { name:"Kernacka", blurb:" Kernacka Ã«shtÃ« njÃ« recetÃ« karakteristike e zonÃ«s sÃ« KorÃ§Ã«s ku pÃ«rbÃ«rsi kryesor Ã«shtÃ« mishi. Pjekja nÃ« sgare e kernacka korce i jep akoma mÃ« shume shije", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ5-s24oI3vJlAf1j0utkHBqNZuTEkEnCs62Q&s" },
          { name:"Petanik", blurb:"PjatÃ« tradicionale me miell misri, ujÃ« dhe gjalpÃ«, e thjeshtÃ« por shumÃ« e shijshme.", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ9PdeUhf01bsxxt7Omecd2wAIG04QRbhc7vg&s" }
        ],
        quiz:[
          { q:"KorÃ§a njihet pÃ«râ€¦", a:["KulturÃ« dhe traditÃ« qytetare","Varka oqeanike","ShkretÃ«tirÃ«"], correct:0 },
          { q:"Voskopoja Ã«shtÃ«â€¦", a:["ZonÃ« historike afÃ«r KorÃ§Ã«s","Ishull turistik","Port detar"], correct:0 },
          { q:"NjÃ« gatim i njohur Ã«shtÃ«â€¦", a:["Lakror","Sushi","Nachos"], correct:0 },
          { q:"Zona lidhet meâ€¦", a:["Liqenin e PrespÃ«s","Detin Adriatik","Oqeanin Atlantik"], correct:0 },
          { q:"Pazari i KorÃ§Ã«s Ã«shtÃ«â€¦", a:["Vend shÃ«titjeje dhe tregu","Vullkan","UjÃ«varÃ«"], correct:0 }
        ]
      },

      {
        id:"kukes",
        name:"Kukes",
        tagline:"Alpe & liqene",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Stema_e_Qarkut_Kuk%C3%ABs.svg/960px-Stema_e_Qarkut_Kuk%C3%ABs.svg.png",
        info:"Qarku i KukÃ«sit Ã«shtÃ« njÃ« nga 12 qarqet nÃ« ShqipÃ«ri dhe ka njÃ« sipÃ«rfaqje prej 2.373 kmÂ². Qarku i KukÃ«sit i pÃ«rfshin rrethin e Hasit, rrethin e KukÃ«sit dhe rrethin e TropojÃ«s. Kryeqendrat sipas rretheve janÃ«: KukÃ«si, pÃ«r rrethin KukÃ«s, Kruma pÃ«r rrethin Has dhe B. Curri (ish-Kolgecaj) pÃ«r rrethin TropojÃ«. Qarku i KukÃ«sit kufizohet nÃ« verilindje dhe deri nÃ« lindje me KosovÃ«n, nÃ« jug me Qarkun e DibrÃ«s, nÃ« jugperÃ«ndim me Qarkun e LezhÃ«s, nÃ« perÃ«ndim me Qarkun e ShkodrÃ«s dhe nÃ« veriperÃ«ndim me Malin e Zi. ISO 3166-2-Code Ã«shtÃ« AL-07. Qarku i KukÃ«sit ka njÃ« popullsi prej 78.239[1] banorÃ«.",
        attractions:[
          { name:"Liqeni i FierzÃ«s", desc:"Liqeni i FierzÃ«s Ã«shtÃ« liqeni artificial mÃ« i madh nÃ« ShqipÃ«ri, ideal pÃ«r shÃ«titje, peshkim dhe pamje panoramike.", img:"https://albaniatouristplaces.com/wp-content/uploads/2023/02/lake-of-fierza.jpg" },
          { name:"Valbona", desc:"Parku KombÃ«tar i ValbonÃ«s ofron alpe madhÃ«shtore, shtigje ecjeje dhe natyrÃ« tÃ« paprekur.", img:"https://images.ctfassets.net/wv75stsetqy3/5tBwWrpkhTFXioqWRmzeHe/f68262ddc99584434e85dddab3b3dcaf/migrated-ejicYr-Post_content_image__7197913?fit=fill&fm=webp&q=60" },
          { name:"Gryka e Vanave", desc:"Gryka e Vanave Ã«shtÃ« njÃ« atraksion natyror i bukur, i pÃ«rshtatshÃ«m pÃ«r eksplorim dhe fotografi.", img:"https://lovealbania.al/wp-content/uploads/2025/08/shoshan-3-edited.webp" }
        ],
        restos:[
          { name:"Mish nÃ« tepsi", blurb:"Gatim i thjeshtÃ«, zakonisht me mish qengji ose viÃ§i, i pjekur me patate dhe erÃ«za.", img:"https://agroweb.org/wp-content/uploads/2018/12/Qengji1.jpg" },
          { name:"Flia", blurb:"Gatimi mÃ« karakteristik i zonÃ«s, pÃ«rgatitet me petÃ« tÃ« holla dhe kos, piqet ngadalÃ« nÃ«n saÃ§ dhe shÃ«rbehet zakonisht me mjaltÃ« ose kos.", img:"https://davidsbeenhere.com/wp-content/uploads/2020/12/video-albanias-most-popular-food-trying-flija-kukes-attractions-albania-davidsbeenhere-10-980x552.jpg" },
          { name:"Qull misri", blurb:"Ushqim tradicional i pÃ«rditshÃ«m, pÃ«rgatitet me miell misri dhe ujÃ«, shÃ«rbehet me kos ose djathÃ«.", img:"https://agroweb.org/wp-content/uploads/2018/03/qullmepule.jpg" }
        ],
        quiz:[
          { q:"KukÃ«si lidhet meâ€¦", a:["NatyrÃ« malore dhe liqene","Plazhe tropikale","ShkretÃ«tirÃ« rÃ«re"], correct:0 },
          { q:"Liqen i njohur nÃ« zonÃ« Ã«shtÃ«â€¦", a:["Fierza","Shkodra","Butrinti"], correct:0 },
          { q:"NjÃ« zonÃ« malore Ã«shtÃ«â€¦", a:["Shishtavec","Karaburun","Llogara (si qark tjetÃ«r)"], correct:0 },
          { q:"Drini i BardhÃ« Ã«shtÃ«â€¦", a:["Lum","Det","Ishull"], correct:0 },
          { q:"NjÃ« gatim i zakonshÃ«m Ã«shtÃ«â€¦", a:["Flia","Sashimi","Crepe franceze vetÃ«m"], correct:0 }
        ]
      },

      {
        id:"lezhe",
        name:"LezhÃ«",
        tagline:"Bregdet & histori",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b3/Stema_e_Qarkut_Lezh%C3%AB.svg/960px-Stema_e_Qarkut_Lezh%C3%AB.svg.png",
        info:"Qarku i LezhÃ«s Ã«shtÃ« njÃ« nga 12 qarqet nÃ« ShqipÃ«ri dhe ka njÃ« sipÃ«rfaqje prej 1.588 kmÂ². Qarku i LezhÃ«s i pÃ«rfshin rrethin e Kurbinit, rrethin e LezhÃ«s dhe rrethin e MirditÃ«s. Qendra e Qarkut tÃ« LezhÃ«s ndodhet nÃ« qytetin e LezhÃ«s. ISO 3166-2-Code Ã«shtÃ« AL-08. Qarku i LezhÃ«s kufizohet nÃ« veri me Qarkun e ShkodrÃ«s, nÃ« verilindje me Qarkun e KukÃ«sit, nÃ« lindje me Qarkun e DibrÃ«s, nÃ« jug me Qarkun e DurrÃ«sit dhe nÃ« perÃ«ndim me Detin Adriatik. Qarku i LezhÃ«s ka njÃ« popullsi prej 158.377 banorÃ«.",
        attractions:[
          { name:"ShÃ«ngjini", desc:"ShÃ«ngjin Ã«shtÃ« destinacion bregdetar i njohur pÃ«r plazhet, portin dhe jetÃ«n verore.", img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/18/d9/3b/52/shengjin-beach.jpg?h=-1&s=1&w=1200" },
          { name:"Laguna e Kune-Vainit", desc:"Laguna e Kune-Vainit Ã«shtÃ« zonÃ« e mbrojtur natyrore, ideale pÃ«r shÃ«titje, fotografi dhe vÃ«zhgim zogjsh.", img:"https://napglobalnetwork.org/wp-content/uploads/2025/01/shorthand/16144/deVxn3juhc/assets/Z7xdR0zEvR/istock-1165559760-4096x2713.jpg" },
          { name:"Memoriali i SkÃ«nderbeut", desc:"Memoriali i SkÃ«nderbeut Ã«shtÃ« vendi ku u mbajt Lidhja e LezhÃ«s dhe ku prehet heroi kombÃ«tar Gjergj Kastrioti SkÃ«nderbeu", img:"https://duemarivirtualtours.com/documents/20121/45115/Lezh%C3%AB%2C_Albania_%E2%80%93_Skanderbeg_Memorial_2016_02.jpg/392069d3-c973-3211-1742-8cbb06555f9d?t=1687270460742" }
        ],
        restos:[
          { name:"Peshk & fruta deti", blurb:"Shije bregdetare pranÃ« ShÃ«ngjinit.", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRem0RN2tYB5OapuQIwIv5BXUBE613lMhiauQ&s" },
          { name:"Byrek me spinaq", blurb:"I thjeshtÃ« dhe i shpejtÃ«.", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRBjwgQJZ77XX0hhFJPQPBrmCLGJDl6B4ALpg&s" },
          { name:"TavÃ« peshku", blurb:"Pjekje nÃ« furrÃ« me erÃ«za mesdhetare.", img:"https://atlantiku.com/wp-content/uploads/2023/04/tave-peshku.jpg" }
        ],
        quiz:[
          { q:"ShÃ«ngjini Ã«shtÃ«â€¦", a:["Plazh nÃ« qarkun LezhÃ«","Mal i lartÃ«","Liqen"], correct:0 },
          { q:"Kune-Vain Ã«shtÃ«â€¦", a:["Laguna/zonÃ« natyrore","KÃ«shtjellÃ« e braktisur","Muze modern"], correct:0 },
          { q:"Lezha kombinonâ€¦", a:["Bregdet dhe histori","Ski dhe shkretÃ«tirÃ«","Vullkane"], correct:0 },
          { q:"Ushqim tipik nÃ« bregdet Ã«shtÃ«â€¦", a:["Peshk & fruta deti","Tacos","Pho"], correct:0 },
          { q:"Qarku Ã«shtÃ« nÃ«â€¦", a:["Veri-perÃ«ndim","Jug-lindje ekstrem","Ishull"], correct:0 }
        ]
      },

      {
        id:"shkoder",
        name:"ShkodÃ«r",
        tagline:"Liqen, kala & traditÃ«",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Stema_e_Qarkut_Shkod%C3%ABr.svg/960px-Stema_e_Qarkut_Shkod%C3%ABr.svg.png",
        info:"Qarku i ShkodrÃ«s Ã«shtÃ« njÃ« nga 12 qarqet nÃ« ShqipÃ«ri dhe ka njÃ« sipÃ«rfaqje prej 1.588 kmÂ². Qarku i ShkodrÃ«s pÃ«rfshin rrethin e MalÃ«sisÃ« sÃ« Madhe, rrethin e PukÃ«s dhe rrethin e ShkodrÃ«s. Ka njÃ« kryetar Qarku me seli tek NdÃ«rtesa e PrefekturÃ«s dhe kÃ«shilltarÃ«t e zgjedhur nga zonat pÃ«rkatÃ«se. Qendra e Qarkut tÃ« ShkodrÃ«s ndodhet nÃ« qytetin e ShkodrÃ«s. ISO 3166-2-Code Ã«shtÃ« AL-10. Qarku i ShkodrÃ«s kufizohet nÃ« veri me Malin e Zi, nÃ« lindje me Qarkun e KukÃ«sit, nÃ« jug me Qarkun e LezhÃ«s dhe nÃ« perÃ«ndim me Detin Adratik.",
        attractions:[
          { name:"Kalaja e RozafÃ«s", desc:"Kalaja e RozafÃ«s Ã«shtÃ« simboli i qytetit. Ndodhet mbi njÃ« kodÃ«r dhe ofron pamje spektakolare mbi ShkodrÃ«n, liqenin dhe lumenjtÃ«.", img:"https://elitetravel-albania.com/wp-content/uploads/2020/04/views-from-rozafa-castle.jpg" },
          { name:"Liqeni i ShkodrÃ«s", desc:"Liqeni i ShkodrÃ«s Ã«shtÃ« liqeni mÃ« i madh nÃ« Ballkan, ideal pÃ«r shÃ«titje, vÃ«zhgim zogjsh dhe aktivitete natyrore.", img:"https://javanews.al/wp-content/uploads/2020/06/liqeni-shkodres.jpg" },
          { name:"Thethi (Alpet Shqiptare)", desc:"Thethi Ã«shtÃ« njÃ« nga destinacionet mÃ« tÃ« bukura alpine, me ujÃ«vara, shtigje dhe natyrÃ« tÃ« paprekur.", img:"https://upload.wikimedia.org/wikipedia/commons/8/87/Theth_Church_Albania.jpg" }
        ],
        restos:[
          { name:"TavÃ« krapi", blurb:"Gatimi mÃ« karakteristik i zonÃ«s, sidomos pranÃ« Liqenit tÃ« ShkodrÃ«s. PÃ«rgatitet me krap, qepÃ«, domate dhe erÃ«za, i pjekur nÃ« furrÃ«.", img:"https://agroweb.org/wp-content/uploads/2017/08/tave-krapi.jpg" },
          { name:"PÃ«rpeq", blurb:"Gatim tradicional me mish, qepÃ« dhe erÃ«za, i gatuar ngadalÃ« nÃ« enÃ« balte ose tigan tÃ« thellÃ«.", img:"https://agroweb.org/wp-content/uploads/2020/09/perpeqq.jpg" },
          { name:"Mish i tharÃ«", blurb:"Mish (kryesisht viÃ§i ose dele) i kripur dhe i tharÃ«, pÃ«rdorej pÃ«r dimÃ«r dhe shoqÃ«ronte gatime tÃ« thjeshta.", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbIUx7zjfBuLVN_PecWhSh5epHCx8EPZUw4g&s" }
        ],
        quiz:[
          { q:"Kalaja ikonike e ShkodrÃ«s Ã«shtÃ«â€¦", a:["Rozafa","Petrela","Porto Palermo"], correct:0 },
          { q:"Shkodra kaâ€¦", a:["Liqen tÃ« madh","Oqean","ShkretÃ«tirÃ«"], correct:0 },
          { q:"Ura e Mesit Ã«shtÃ«â€¦", a:["UrÃ« historike","Stadium","Muze"], correct:0 },
          { q:"NjÃ« pjatÃ« e lidhur me zonÃ«n Ã«shtÃ«â€¦", a:["TavÃ« krapi","Sushi","Pasta carbonara"], correct:0 },
          { q:"Shkodra ndodhet nÃ«â€¦", a:["Veri","Jug ekstrem","Ishull"], correct:0 }
        ]
      },

      {
        id:"tirane",
        name:"TiranÃ«",
        tagline:"Kryeqytet modern & kulturÃ«",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Stema_e_Qarkut_Tiran%C3%AB.svg/960px-Stema_e_Qarkut_Tiran%C3%AB.svg.png",
        info:"Qarku i TiranÃ«s Ã«shtÃ« njÃ« nga 12 qarqet nÃ« ShqipÃ«ri dhe ka njÃ« sipÃ«rfaqje prej 1.586 kmÂ². Qarku i TiranÃ«s i pÃ«rfshin pese bashki (Tirane, Kamza, Vora, Rrogozhina dhe Kavaja). Qendra e Qarkut tÃ« TiranÃ«s ndodhet nÃ« qytetin e TiranÃ«s. ISO 3166-2-Code Ã«shtÃ« AL-11. Qarku i TiranÃ«s kufizohet nÃ« veri me Qarkun e DurrÃ«sit, nÃ« verilindje me Qarkun e DibrÃ«s, nÃ« juglindje me Qarkun e Elbasanit, nÃ« jug me Qarkun e Fierit dhe nÃ« perÃ«ndim me Detin Adriatik. Rajoni i TiranÃ«s ka njÃ« popullsi prej 800.197 banorÃ«sh (2009).",
        attractions:[
          { name:"Sheshi SkÃ«nderbej", desc:"Sheshi SkÃ«nderbej Ã«shtÃ« zemra e kryeqytetit, i rrethuar nga monumente kryesore dhe institucione kulturore.", img:"https://lp-cms-production.imgix.net/2019-06/5999b6527508197d47c77b95ac8ae552-sheshi-skenderbej.jpg?auto=format&crop=faces%2Cedges&fit=crop&h=640&q=75&w=1920" },
          { name:"Mali i Dajtit", desc:"Parku KombÃ«tar i Dajtit Ã«shtÃ« destinacion ideal pÃ«r ajÃ«r tÃ« pastÃ«r, shÃ«titje dhe pamje panoramike mbi TiranÃ«n.", img:"https://cdn.getyourguide.com/img/tour/644669a380537.jpeg/145.jpg" },
          { name:"Bunkâ€™Art", desc:"Bunkâ€™Art Ã«shtÃ« muze i ndÃ«rtuar nÃ« ish-bunkerÃ«, qÃ« pasqyron historinÃ« e diktaturÃ«s komuniste.", img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0e/37/8e/ac/la-splendida-cupola-ingresso.jpg?h=-1&s=1&w=1200" }
        ],
        restos:[
          { name:"TavÃ« Dheu", blurb:"NjÃ« nga gatimet mÃ« tÃ« njohura, pÃ«rgatitet me mish qengji, kos, vezÃ« dhe oriz.", img:"https://www.willflyforfood.net/wp-content/uploads/2021/07/albanian-food-tave-kosi.jpg.webp" },
          { name:"FÃ«rgesÃ« tiranase", blurb:"Gatim shumÃ« karakteristik me speca, domate, gjizÃ« dhe gjalpÃ«, i shÃ«rbyer zakonisht i ngrohtÃ«.", img:"https://www.tasteatlas.com/images/dishes/98dce5de77744f62bdadd78048216966.jpg" },
          { name:"Petulla", blurb:"Ã‹mbÃ«lsirÃ« tradicionale, e shÃ«rbyer zakonisht me sheqer pluhur, mjaltÃ« ose reÃ§el.", img:"https://www.artigatimit.com/wp-content/uploads/2020/04/petulla-te-fryra-artigatimit-pancakes-albanian-food-traditional.jpg" }
        ],
        quiz:[
          { q:"Tirana Ã«shtÃ«â€¦", a:["Kryeqyteti i ShqipÃ«risÃ«","Qytet port","Ishull"], correct:0 },
          { q:"Sheshi kryesor Ã«shtÃ«â€¦", a:["SkÃ«nderbej","NÃ«nÃ« Tereza (aeroport)","Rozafa"], correct:0 },
          { q:"Mali pranÃ« TiranÃ«s Ã«shtÃ«â€¦", a:["Dajti","Korabi","Tomorri"], correct:0 },
          { q:"Blloku njihet pÃ«râ€¦", a:["Kafene dhe jetÃ« urbane","Ski","Lundrim"], correct:0 },
          { q:"NjÃ« gatim i njohur Ã«shtÃ«â€¦", a:["FÃ«rgesÃ«","Sushi","Curry"], correct:0 }
        ]
      },

      {
        id:"vlore",
        name:"VlorÃ«",
        tagline:"Det, histori & riviera",
        badge:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Stema_e_Qarkut_Vlor%C3%AB.svg/500px-Stema_e_Qarkut_Vlor%C3%AB.svg.png",
        info:"Qarku i VlorÃ«s Ã«shtÃ« njÃ« nga 12 qarqet nÃ« ShqipÃ«ri dhe ka njÃ« sipÃ«rfaqje prej 2.706 kmÂ². Qarku i VlorÃ«s pÃ«rfshin bashkitÃ«: VlorÃ«, SelenicÃ«, HimarÃ«, SarandÃ«, Konispol, Finiq dhe DelvinÃ«. Qendra e Qarkut tÃ« VlorÃ«s ndodhet nÃ« qytetin e VlorÃ«s. ISO 3166-2-Code Ã«shtÃ« AL-12. Qarku i VlorÃ«s kufizohet nÃ« veri me Qarkun e Fierit, nÃ« lindje Qarkun e GjirokastrÃ«s, nÃ« jug me GreqinÃ« dhe nÃ« jugperÃ«ndim deri nÃ« perÃ«ndim me Detin Adriatik dhe Detin Jon gjatÃ« Bregdetit. Rajoni i VlorÃ«s ka njÃ« popullsi prej 181.996 banorÃ«sh.",
        attractions:[
          { name:"Kalaja e KaninÃ«s", desc:"Kalaja e KaninÃ«s ofron pamje panoramike mbi VlorÃ«n dhe Gjirin e saj.", img:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Kalaja_e_Kanin%C3%ABs.jpg/1200px-Kalaja_e_Kanin%C3%ABs.jpg" },
          { name:"Gadishulli i Karaburunit & Ishulli i Sazanit", desc:"Karaburun-Sazan Ã«shtÃ« park detar me shpella, plazhe tÃ« virgjÃ«ra dhe ujÃ«ra tÃ« pastra.", img:"https://eia476h758b.exactdn.com/wp-content/uploads/2023/07/Karaburun-Peninsula-Albania-scaled.jpg?lossy=1&ssl=1&strip=all" },
          { name:"Riviera (HimarÃ«/DhÃ«rmi)", desc:"DhÃ«rmi Ã«shtÃ« i famshÃ«m pÃ«r ujÃ«rat kristal tÃ« Jonit dhe plazhet me gurÃ« tÃ« bardhÃ«.HimarÃ« ofron plazhe tÃ« bukura, qytetin e vjetÃ«r dhe atmosferÃ« mesdhetare.", img:"https://images.unsplash.com/photo-1500375592092-40eb2168fd21?auto=format&fit=crop&w=1200&q=60" }
        ],
        restos:[
          { name:"Kukurec", blurb:"Gatim shumÃ« tipik lab, i pÃ«rgatitur me tÃ« brendshme qengji, i pjekur nÃ« hell ose nÃ« tavÃ«. ShumÃ« i zakonshÃ«m nÃ« fshatrat e VlorÃ«s.", img:"https://media-cdn.tripadvisor.com/media/photo-s/1b/7c/b7/6b/kukurec.jpg" },
          { name:"Peshk nÃ« zgarrÃ« / tavÃ«", blurb:"Zona bregdetare njihet pÃ«r levrek, kocÃ«, barbun, tÃ« gatuar thjesht me vaj ulliri, hudhÃ«r dhe limon.", img:"https://media-cdn.tripadvisor.com/media/photo-s/1c/eb/52/8b/peshk-ne-zgare.jpg" },
          { name:"Gliko shtÃ«pie", blurb:"Ã‹mbÃ«lsirÃ« shumÃ« karakteristike e zonÃ«s sÃ« jugut, sidomos gliko fiku, arre, portokalli.", img:"https://www.artigatimit.com/wp-content/uploads/2015/08/gliko-shalqiri-artigatimit-embelsira-receta-gatimi.jpg" }
        ],
        quiz:[
          { q:"Vlora lidhet shumÃ« meâ€¦", a:["RivierÃ«n dhe detin","ShkretÃ«tirÃ«n","Liqenet alpine vetÃ«m"], correct:0 },
          { q:"Karaburuni Ã«shtÃ«â€¦", a:["ZonÃ« bregdetare","Qytet nÃ« veri","Mal i lartÃ« nÃ« lindje"], correct:0 },
          { q:"Atraksion panoramik Ã«shtÃ«â€¦", a:["Kuzum Baba","Apolonia","Rozafa"], correct:0 },
          { q:"Ushqim tipik Ã«shtÃ«â€¦", a:["Peshk i freskÃ«t","Ramen","Tacos"], correct:0 },
          { q:"Riviera njihet pÃ«râ€¦", a:["Plazhe dhe peizazhe","Ski gjithÃ« vitin","ShkretÃ«tirÃ« rÃ«re"], correct:0 }
        ]
      }
    ];

    const LS_KEY = "explore_albania_state_v2";
    const defaultState = {
      points:0,
      badges:[],
      lastQuiz:{},
      foodPhotos:{} // foodPhotos[qarkId][restIndex] = dataURL
    };
    const state = loadState();
    let activeId = null;

    function loadState(){
      try{
        const raw = localStorage.getItem(LS_KEY);
        if(!raw) return structuredClone(defaultState);
        const parsed = JSON.parse(raw);
        return { ...structuredClone(defaultState), ...parsed };
      }catch(e){
        return structuredClone(defaultState);
      }
    }
    function saveState(){
      localStorage.setItem(LS_KEY, JSON.stringify(state));
      renderHud();
      renderBadges();
    }
    function shuffleAnswers(question){
      const answers = [...question.a];
      const correctAnswer = answers[question.correct];
      
      // Fisher-Yates shuffle
      for(let i = answers.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        [answers[i], answers[j]] = [answers[j], answers[i]];
      }
      
      // Find where the correct answer ended up
      const correctIndex = answers.indexOf(correctAnswer);
      
      return {
        answers: answers,
        correctIndex: correctIndex
      };
    }
    function addPoints(n){
      state.points += n;
      saveState();
    }
    function hasBadge(id){ return state.badges.includes(id); }
    function awardBadge(qark){
      if(hasBadge(qark.id)) return false;
      state.badges.push(qark.id);
      addPoints(50);
      return true;
    }

    // =======================
    // RENDER HUD & BADGES
    // =======================
    function renderHud(){
      document.getElementById("points").textContent = state.points;
      document.getElementById("badgeCount").textContent = state.badges.length;
    }
    function renderBadges(){
      const wrap = document.getElementById("badges");
      wrap.innerHTML = "";
      if(state.badges.length === 0){
        wrap.innerHTML = `<p class="tiny">Sâ€™ke badge ende. Zgjidh njÃ« qark â†’ bÃ«j quiz (â‰¥3/5) â†’ upload foto.</p>`;
        return;
      }
      for(const bid of state.badges){
        const q = DATA.find(x=>x.id===bid);
        const el = document.createElement("div");
        el.className = "badge";
        if(q?.badge){
          el.innerHTML = `<img src="${q.badge}" alt="${q?.name ?? bid} badge"><span><b>${q?.name ?? bid}</b> badge</span>`;
        } else {
          el.innerHTML = `<span class="star"></span><span><b>${q?.name ?? bid}</b> badge</span>`;
        }
        wrap.appendChild(el);
      }
    }

    // =======================
    // MAP
    // =======================
    function renderMap(){
      const map = document.getElementById("map");
      map.innerHTML = "";
      DATA.forEach(q=>{
        const b = document.createElement("div");
        b.className = "region";
        b.dataset.id = q.id;
        b.innerHTML = `
          <div class="glow"></div>
          <div class="name">${q.name}</div>
          <div class="tag">${q.tagline}</div>
        `;
        b.addEventListener("click", ()=>selectQark(q.id));
        map.appendChild(b);
      });
      updateActiveMap();
    }
    function updateActiveMap(){
      document.querySelectorAll(".region").forEach(el=>{
        el.classList.toggle("active", el.dataset.id===activeId);
      });
    }

    // =======================
    // FOOD PHOTO HELPERS
    // =======================
    function getFoodPhoto(qarkId, restIndex){
      const perQark = state.foodPhotos?.[qarkId];
      return perQark ? perQark[String(restIndex)] : null;
    }
    function setFoodPhoto(qarkId, restIndex, dataUrl){
      if(!state.foodPhotos) state.foodPhotos = {};
      if(!state.foodPhotos[qarkId]) state.foodPhotos[qarkId] = {};
      state.foodPhotos[qarkId][String(restIndex)] = dataUrl;
      saveState();
    }

    // =======================
    // PANEL (QARK)
    // =======================
    function selectQark(id){
      activeId = id;
      updateActiveMap();

      const q = DATA.find(x=>x.id===id);
      document.getElementById("panelTitle").textContent = q.name;
      document.getElementById("panelSubtitle").textContent = q.tagline;

      document.getElementById("activeChip").style.display = "flex";
      document.getElementById("activeName").textContent = q.name;

      const last = state.lastQuiz[id];
      const quizStatus = last
        ? `<span class="${last.passed ? "good":"bad"}">${last.passed ? "Quiz kaluar" : "Quiz dÃ«shtuar"} (${last.score}/5)</span>`
        : `<span class="msg">Quiz sâ€™Ã«shtÃ« bÃ«rÃ« ende</span>`;

      const panel = document.getElementById("panel");

      panel.innerHTML = `
        <div class="hero">
          <h3>${q.name}</h3>
          <div class="meta">
            <span>â€¢ ${q.tagline}</span>
            <span>â€¢ Atraksione: 3</span>
            <span>â€¢ Status quiz: ${quizStatus}</span>
          </div>
          <p class="tiny" style="margin-top:10px">${q.info}</p>
        </div>

        <div class="section-title">
          <h4>ğŸ“ Atraksionet turistike (klikoni pin)</h4>
          <span class="msg">Kliko kartÃ«n â†’ imazh â†’ 360Â°</span>
        </div>
        <div class="pins">
          ${q.attractions.map((a,i)=>`
            <div class="pin" data-attr="${i}">
              <span class="dot"></span><b>${a.name}</b>
              <small>${a.desc}</small>
              <div class="thumb" style="background-image:
                linear-gradient(120deg, rgba(106,228,255,.20), rgba(167,139,250,.18)),
                url('${a.img}')"></div>
            </div>
          `).join("")}
        </div>

        <div class="section-title" style="margin-top:6px">
          <h4>ğŸ½ï¸ Restorante & gatime tradicionale</h4>
          <span class="msg">Tani mund tâ€™u vendosÃ«sh foto (upload)</span>
        </div>
        <div class="restos">
          ${q.restos.map((r, idx)=>`
            <div class="rest" data-rest="${idx}">
              <div class="img" id="food_img_${q.id}_${idx}"></div>
              <div class="txt">
                <b>${r.name}</b>
                <p>${r.blurb}</p>

                <div class="food-upload">
                  <input type="file" accept="image/*" id="food_file_${q.id}_${idx}">
                  <button class="mini" id="food_save_${q.id}_${idx}">Ruaj foton</button>
                  <span class="hint" id="food_hint_${q.id}_${idx}">Zgjidh njÃ« foto dhe kliko â€œRuajâ€.</span>
                </div>
              </div>
            </div>
          `).join("")}
        </div>

        <div class="section-title" style="margin-top:6px">
          <h4>ğŸ§  Quiz (5 pyetje)</h4>
          <span class="msg">Duhet â‰¥3/5 pÃ«r tÃ« fituar badge pas upload</span>
        </div>

        <div class="quiz" id="quizBox">
          ${q.quiz.map((qq, idx)=>{
            const shuffled = shuffleAnswers(qq);
            return `
            <div class="qrow" data-q="${idx}" data-correct="${shuffled.correctIndex}">
              <div class="q">${idx+1}. ${qq.q}</div>
              <div class="opts">
                ${shuffled.answers.map((opt, j)=>`
                  <label class="opt">
                    <input type="radio" name="q_${idx}" value="${j}">
                    <span>${opt}</span>
                  </label>
                `).join("")}
              </div>
            </div>
          `}).join("")}

          <div class="quiz-actions">
            <button class="btn" id="submitQuiz">DÃ«rgo Quiz</button>
            <div class="msg" id="quizMsg">Status: ${last ? (last.passed ? `<span class="good">kaluar</span>` : `<span class="bad">dÃ«shtuar</span>`) : "nuk Ã«shtÃ« bÃ«rÃ«"}</div>
          </div>
        </div>

        <div class="section-title" style="margin-top:6px">
          <h4>ğŸ“· Upload foto nga ky qark</h4>
          <span class="msg">Sâ€™jep badge pa quiz-in</span>
        </div>
        <div class="upload">
          <input type="file" id="photoUpload" accept="image/*" />
          <button class="btn" id="claimBtn">Mer pikÃ« & badge</button>
          <p class="tiny" style="margin:0">Rregull: Quiz â‰¥3/5 + upload foto â†’ badge i qarkut (+50 pikÃ«).</p>
        </div>
        <div class="msg" id="uploadMsg"></div>
      `;

      // hook pins
      panel.querySelectorAll(".pin").forEach(pin=>{
        pin.addEventListener("click", ()=>{
          const idx = Number(pin.dataset.attr);
          openAttraction(q, idx);
        });
      });

      // quiz submit
      panel.querySelector("#submitQuiz").addEventListener("click", ()=>submitQuiz(q));

      // upload + claim (badge flow)
      let uploaded = false;
      const uploadInput = panel.querySelector("#photoUpload");
      const uploadMsg = panel.querySelector("#uploadMsg");
      uploadInput.addEventListener("change", ()=>{
        uploaded = uploadInput.files && uploadInput.files.length>0;
        uploadMsg.innerHTML = uploaded
          ? `<span class="good">Foto u ngarkua (lokalisht). Tani kliko â€œMer pikÃ« & badgeâ€.</span>`
          : `<span class="msg">AsnjÃ« foto e zgjedhur.</span>`;
      });
      panel.querySelector("#claimBtn").addEventListener("click", ()=>{
        claimBadgeFlow(q, uploaded);
      });

      // render existing food photos + wire upload per food
      wireFoodUploads(q);
    }

    function wireFoodUploads(q){
      q.restos.forEach((r, idx)=>{
        const imgEl = document.getElementById(`food_img_${q.id}_${idx}`);
        const fileEl = document.getElementById(`food_file_${q.id}_${idx}`);
        const saveBtn = document.getElementById(`food_save_${q.id}_${idx}`);
        const hintEl = document.getElementById(`food_hint_${q.id}_${idx}`);

        // set current photo if exists
        const saved = getFoodPhoto(q.id, idx);
        const fallback = r.img && r.img.trim() ? r.img.trim() : "https://images.unsplash.com/photo-1604908177072-8f2a5ad7889b?auto=format&fit=crop&w=800&q=60";
        const bgUrl = saved || fallback;

        imgEl.style.backgroundImage = `
          linear-gradient(120deg, rgba(106,228,255,.18), rgba(167,139,250,.16)),
          url('${bgUrl}')
        `;
        imgEl.style.backgroundSize = "cover";
        imgEl.style.backgroundPosition = "center";

        let pendingDataUrl = null;

        fileEl.addEventListener("change", ()=>{
          const f = fileEl.files?.[0];
          if(!f){
            pendingDataUrl = null;
            hintEl.textContent = "Zgjidh njÃ« foto dhe kliko â€œRuajâ€.";
            return;
          }
          const reader = new FileReader();
          reader.onload = ()=>{
            pendingDataUrl = reader.result;
            hintEl.textContent = "Foto gati âœ… tani kliko â€œRuaj fotonâ€.";
            // preview instantly
            imgEl.style.backgroundImage = `
              linear-gradient(120deg, rgba(106,228,255,.18), rgba(167,139,250,.16)),
              url('${pendingDataUrl}')
            `;
          };
          reader.readAsDataURL(f);
        });

        saveBtn.addEventListener("click", ()=>{
          if(!pendingDataUrl){
            hintEl.textContent = "Sâ€™ka foto tÃ« re. Zgjidh njÃ« foto te input-i.";
            return;
          }
          setFoodPhoto(q.id, idx, pendingDataUrl);
          hintEl.textContent = "U ruajt âœ… (localStorage).";
          addPoints(1); // bonus i vogÃ«l pÃ«r pÃ«rmbajtje
        });
      });
    }

    function submitQuiz(q){
      const box = document.getElementById("quizBox");
      let score = 0;

      box.querySelectorAll(".qrow").forEach((row, idx)=>{
        const chosen = row.querySelector(`input[name="q_${idx}"]:checked`);
        const correctIndex = Number(row.dataset.correct);
        if(chosen && Number(chosen.value) === correctIndex) score++;
      });

      const passed = score >= 3;
      state.lastQuiz[q.id] = { passed, score };
      if(passed){
        addPoints(20);
      }else{
        addPoints(5);
      }
      saveState();

      const msg = document.getElementById("quizMsg");
      msg.innerHTML = passed
        ? `<span class="good">Bravo! Kaluar: ${score}/5. Tani bÃ«j upload foto pÃ«r badge.</span>`
        : `<span class="bad">Jo tamam: ${score}/5. Provo sÃ«rish (duhet â‰¥3/5).</span>`;
    }

    function claimBadgeFlow(q, uploaded){
      const uploadMsg = document.getElementById("uploadMsg");
      const last = state.lastQuiz[q.id];

      if(!uploaded){
        uploadMsg.innerHTML = `<span class="bad">Duhet tÃ« zgjedhÃ«sh njÃ« foto (upload) para se tÃ« marrÃ«sh badge.</span>`;
        return;
      }
      if(!last || !last.passed){
        uploadMsg.innerHTML = `<span class="bad">Duhet tÃ« kalosh quiz-in (â‰¥3/5) para badge.</span>`;
        return;
      }
      if(hasBadge(q.id)){
        uploadMsg.innerHTML = `<span class="msg">E ke marrÃ« tashmÃ« badge pÃ«r ${q.name}.</span>`;
        return;
      }

      awardBadge(q);
      uploadMsg.innerHTML = `<span class="good">Urime! Fitove badge: ${q.name} (+50 pikÃ«). ğŸ‰</span>`;
      saveState();
      renderBadges();
    }

    // =======================
    // MODAL (ATTRACTION + 360)
    // =======================
    const modal = document.getElementById("attractionModal");
    const mTitle = document.getElementById("mTitle");
    const mImg = document.getElementById("mImg");
    const mInfoTitle = document.getElementById("mInfoTitle");
    const mInfoText = document.getElementById("mInfoText");
    const viewer = document.getElementById("viewer360");
    const panoFrame = document.getElementById("panoFrame");

    const PANO_DEMO = "https://pannellum.org/images/alma.jpg";

    function openAttraction(q, idx){
      const a = q.attractions[idx];
      mTitle.textContent = `${a.name} â€” ${q.name}`;
      mInfoTitle.textContent = a.name;
      mInfoText.textContent = a.desc + " " + "KÃ«tu mund tÃ« shtosh edhe tekst mÃ« tÃ« gjatÃ« me rreshta, histori, orare, Ã§mime etj.";

      mImg.style.backgroundImage = `
        linear-gradient(120deg, rgba(106,228,255,.18), rgba(167,139,250,.16)),
        url('${a.img}')
      `;

      viewer.style.display = "none";

      const pannellumUrl =
        "https://cdn.pannellum.org/2.5/pannellum.htm" +
        "?panorama=" + encodeURIComponent(PANO_DEMO) +
        "&autoLoad=true&compass=false&showZoomCtrl=true";
      panoFrame.src = pannellumUrl;

      modal.showModal();
      addPoints(2);
      saveState();
    }

    mImg.addEventListener("click", ()=>{
      viewer.style.display = viewer.style.display === "none" ? "block" : "none";
    });

    document.getElementById("mClose").addEventListener("click", ()=>{
      modal.close();
      panoFrame.src = "about:blank";
    });

    // =======================
    // BUTTONS
    // =======================
    document.getElementById("randomBtn").addEventListener("click", ()=>{
      const pick = DATA[Math.floor(Math.random()*DATA.length)];
      selectQark(pick.id);
    });

    document.getElementById("resetBtn").addEventListener("click", ()=>{
      localStorage.removeItem(LS_KEY);
      location.reload();
    });


    
    // --- Photo album: load, render and wire upload (multi-file + attraction select) ---
    const PHOTO_KEY = 'userPhotos_v1';
    let userPhotos = JSON.parse(localStorage.getItem(PHOTO_KEY) || '[]');

    function populatePlaceSelect(){
      const sel = document.getElementById('photoPlaceSelect');
      if(!sel) return;
      sel.innerHTML = '<option value="">Zgjidh qark</option>';
      DATA.forEach(d=>{
        const o = document.createElement('option');
        o.value = d.id;
        o.textContent = d.name;
        sel.appendChild(o);
      });
      // clear attraction select
      const aSel = document.getElementById('photoAttractionSelect');
      if(aSel) aSel.innerHTML = '<option value="">Zgjidh atraksion (opsionale)</option>';
    }

    function populateAttractionSelect(placeId){
      const aSel = document.getElementById('photoAttractionSelect');
      if(!aSel) return;
      aSel.innerHTML = '<option value="">Zgjidh atraksion (opsionale)</option>';
      const place = DATA.find(d=>d.id === placeId);
      if(!place) return;
      (place.attractions || []).forEach((at, i)=>{
        const o = document.createElement('option');
        o.value = String(i);
        o.textContent = at.name;
        aSel.appendChild(o);
      });
    }

    function renderGallery(){
      const g = document.getElementById('photoGallery');
      if(!g) return;
      g.innerHTML = '';
      if(userPhotos.length === 0){
        g.innerHTML = '<div class="tiny">Nuk ka ende foto. Shto foto me butonin "Shto Foto".</div>'
        return;
      }
      userPhotos.forEach((p, idx)=>{
        const el = document.createElement('div');
        el.className = 'pin';
        el.dataset.idx = idx;
        el.innerHTML = `
          <div class="thumb" style="background-image:url('${p.src}'); background-size:cover;"></div>
          <b>${p.placeName}${p.attractionName ? ' â€” ' + p.attractionName : ''}</b>
          <small style="display:block;color:var(--muted)">${new Date(p.time).toLocaleString()}</small>
          <div style="margin-top:8px"><button class="btn" data-delete="${idx}">Fshi</button></div>
        `;
        g.appendChild(el);
      });

      g.querySelectorAll('button[data-delete]').forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          const i = Number(e.target.getAttribute('data-delete'));
          if(isNaN(i)) return;
          if(!confirm('Fshi kÃ«tÃ« foto?')) return;
          userPhotos.splice(i,1);
          localStorage.setItem(PHOTO_KEY, JSON.stringify(userPhotos));
          renderGallery();
        });
      });
    }

    // wire place -> attraction select
    document.getElementById('photoPlaceSelect')?.addEventListener('change', (e)=>{
      const pid = e.target.value;
      populateAttractionSelect(pid);
    });

    document.getElementById('addPhotoBtn')?.addEventListener('click', ()=>{
      const fileInput = document.getElementById('photoInput');
      const sel = document.getElementById('photoPlaceSelect');
      const aSel = document.getElementById('photoAttractionSelect');
      if(!sel) { alert('Zgjidh njÃ« qark'); return; }
      const placeId = sel.value;
      if(!placeId){ alert('Zgjidh qarkun pÃ«r foton'); return; }
      if(!fileInput || !fileInput.files || fileInput.files.length === 0){ alert('Zgjidh tÃ« paktÃ«n njÃ« skedar fotografie'); return; }

      const files = Array.from(fileInput.files);
      const placeObj = DATA.find(d=>d.id===placeId);
      const placeName = placeObj ? placeObj.name : placeId;
      const attractionIndex = aSel && aSel.value !== '' ? Number(aSel.value) : null;
      const attractionName = (attractionIndex !== null && placeObj && placeObj.attractions && placeObj.attractions[attractionIndex]) ? placeObj.attractions[attractionIndex].name : '';

      let remaining = files.length;
      files.forEach(file=>{
        const reader = new FileReader();
        reader.onload = function(ev){
          const src = ev.target.result;
          userPhotos.unshift({ src, placeId, placeName, attractionName, time: Date.now() });
          remaining -= 1;
          if(remaining === 0){
            localStorage.setItem(PHOTO_KEY, JSON.stringify(userPhotos));
            renderGallery();
            fileInput.value = '';
            sel.value = '';
            if(aSel) aSel.innerHTML = '<option value="">Zgjidh atraksion (opsionale)</option>';
          }
        };
        reader.readAsDataURL(file);
      });
    });

    // initialise album UI
    populatePlaceSelect();
    renderGallery();

    // --- USER PROFILE ---
    const PROFILE_KEY = 'userProfile_v1';
    let userProfile = JSON.parse(localStorage.getItem(PROFILE_KEY) || '{"name":"PÃ«rdorues","avatar":"ğŸ‘¤"}');

    function renderProfile(){
      const avatar = document.getElementById('profileAvatar');
      const name = document.getElementById('profileName');
      const stats = document.getElementById('profileStats');
      if(avatar) avatar.textContent = userProfile.avatar || 'ğŸ‘¤';
      if(name) name.textContent = userProfile.name || 'PÃ«rdorues';
      if(stats) stats.textContent = `${state.points || 0} pikÃ« Â· ${Object.keys(state.badges || {}).length} badge`;
    }

    document.getElementById('profileCard')?.addEventListener('click', ()=>{
      const modal = document.getElementById('profileModal');
      if(!modal) return;
      document.getElementById('profileAvatarInput').value = userProfile.avatar || 'ğŸ‘¤';
      document.getElementById('profileNameInput').value = userProfile.name || 'PÃ«rdorues';
      modal.showModal();
    });

    document.getElementById('profileSaveBtn')?.addEventListener('click', ()=>{
      const avatar = document.getElementById('profileAvatarInput').value.trim();
      const name = document.getElementById('profileNameInput').value.trim();
      if(!name){ alert('Emri nuk mund tÃ« jetÃ« bosh'); return; }
      userProfile = { avatar: avatar || 'ğŸ‘¤', name };
      localStorage.setItem(PROFILE_KEY, JSON.stringify(userProfile));
      renderProfile();
      document.getElementById('profileModal').close();
    });

    document.getElementById('pClose')?.addEventListener('click', ()=>{
      document.getElementById('profileModal').close();
    });

    renderProfile();

    renderHud();
    renderBadges();
    renderMap();
  </script>
</body>
</html>
